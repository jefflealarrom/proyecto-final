<section class="formularios">
  <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <h2>Registrate</h2>
    <section class="form-group">
      <label for="username">nombre</label>
      <input type="text" formControlName="name" id="username" placeholder="Nombre" autocomplete="username" name="username">
      <article *ngIf="formulario.get('name')?.invalid && formulario.get('name')?.dirty">
        <section *ngIf="formulario.get('name')?.errors?.['required']">
          <p class="small">El título es requerido</p>
        </section>
        <section *ngIf="formulario.get('name')?.errors?.['minlength']">
          <p class="small">El título debe tener al menos 3
            caracteres</p>
        </section>
      </article>
    </section>
    <section class="form-group">
      <label for="apellidos">apellidos</label>
      <input type="text" formControlName="lastname" id="apellidos" placeholder="Apellidos" >
      <article
        *ngIf="formulario.get('lastname')?.invalid && (formulario.get('lastname')?.dirty || formulario.get('lastname')?.touched)">
        <section *ngIf="formulario.get('lastname')?.errors?.['required']">
          <p class="small">El apellido es requerido</p>
        </section>
        <section *ngIf="formulario.get('lastname')?.errors?.['minlength']">
          <p class="small">El apellido debe tener al menos 3
            caracteres</p>
        </section>
      </article>
    </section>
    <section class="form-group">
      <label for="emailregistre">email</label>
      <input type="email" formControlName="email" id="emailregistre" placeholder="Correo" autocomplete="email">
      <article
        *ngIf="formulario.get('email')?.invalid && (formulario.get('email')?.dirty || formulario.get('email')?.touched)">
        <section *ngIf="formulario.get('email')?.errors?.['required']">
          <p class="small">El email es requerido</p>
        </section>
      </article>
    </section>
    <section class="form-group">
      <label for="password">contraseña</label>
      <input type="password" formControlName="password" id="password" placeholder="Contraseña" autocomplete="new-password">
      <p *ngIf="formulario.get('password')?.invalid && formulario.get('password')?.touched && !formulario.get('password')?.pristine" class="small">La contraseña es requerida</p> 
      <p *ngIf="formulario.get('password')?.errors?.['minlength']" class="small">La contraseña debe tener al menos 8
        caracteres</p>
    </section>
    <section class="form-group">
      <label for="repito_password">repite tu contraseña</label>
      <input type="password" formControlName="repito_password" id="repito_password" placeholder="Repite tu contraseña" autocomplete="new-password">
      <article
        *ngIf="formulario.get('repito_password')?.invalid && (formulario.get('repito_password')?.dirty || formulario.get('repito_password')?.touched)">
        <section *ngIf="formulario.get('repito_password')?.errors?.['required']">
          <p class="small">La repeticion de contraseña es requerida</p>
        </section>
        <section *ngIf="formulario.get('repito_password')?.errors?.['minlength']">
          <p class="small">La contraseña debe coincidir con la anterior</p>
        </section>
      </article>
    </section>
    <button type="submit">Enviar</button>
    <button [routerLink]="['/logIn']" type="submit">Ya tienes una cuenta?</button>
    <p class="send">{{mensajeError}}</p>
  </form>
</section>